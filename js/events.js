         // Array of events with their respective dates and reminder thresholds
         const events = [

     // Term One (1)
            { 
               name: "School Opens", 
               date: new Date("Jan 8, 2025 08:00:00").getTime(), 
               reminderDays: 2, 
               reminderHours: 12, 
               caption: "School Opens", 
               details: "School Opens without Baby Birds, Feather Flyers and Sky Soarers", 
               imageUrl: "images/schoolOpens.jpg" 
            },
     
     
             { name: "Second Opening", 
               date: new Date("Feb 10, 2025 08:00:00").getTime(), 
               reminderDays: 2, reminderHours: 12,
               caption: "Second Opening", 
               details: "The other classes open", 
               imageUrl: "images/2Opening.jpg" 
             },
     
             { name: "Valentine Special", 
               date: new Date("Feb 14, 2025 08:00:00").getTime(), 
               reminderDays: 3, reminderHours: 12,
               caption: "Valentine Special", 
               details: "We will have a special valentine day with the children. Only K30.", 
               imageUrl: "images/valentineSpecial.jpg" 
             },
     
             { name: "Mid Tests", 
               date: new Date("Feb 17, 2025 08:00:00").getTime(), 
               reminderDays: 3, reminderHours: 12,
               caption: "Mid Tests", 
               details: "The onset of Mid term tests.", 
               imageUrl: "images/midTests.jpg" 
             },
     
             { name: "Cultural Appreciation", 
               date: new Date("Mar 14, 2025 08:00:00").getTime(), 
               reminderDays: 3, reminderHours: 12,
               caption: "Cultural Appreciation", 
               details: "We will have a day to appreciate our cultural dishes. Payments will be K50, K75 and 100 for parents with 1, 2 and 3 children respectively.", 
               imageUrl: "images/culturalAppreciation.jpg"
             },

             { name: "End Tests", 
               date: new Date("Mar 17, 2025 08:00:00").getTime(), 
               reminderDays: 3, reminderHours: 12,
               caption: "End Tests", 
               details: "Onset of End Term Assessments.", 
               imageUrl: "images/endTests.jpg"
             },

     
     // Term Two (2)
             { name: "School Opens", 
               date: new Date("Mar 12, 2025 08:00:00").getTime(), 
               reminderDays: 3, reminderHours: 12,
               caption: "School Opens", 
               details: "Description of Youth Week of Prayer", 
               imageUrl: "images/weekPrayer.jpg" 
             },

             { name: "Mid Assessments", 
               date: new Date("Jun 10, 2025 08:00:00").getTime(), 
               reminderDays: 5, reminderHours: 12,
               caption: "Mid Assessments", 
               details: "All classes will begin the tests on this date. Therefore, all the learners should habe their report books paid for and handed over to the teachers. All those that have not brought the reams of paper this year should do so before this day.", 
               imageUrl: "images/mid_assessments.jpg" 
             },
     
         	   { name: "Father's Day", 
         	     date: new Date("Jun 16, 2025 08:00:00").getTime(), 
         	     reminderDays: 2, reminderHours: 12,
               caption: "Father's Day", 
               details: "Description of KEMD Pathfinder Fair", 
               imageUrl: "images/Fathers_Day.jpg" 	     
         	   },

         	   { name: "Hero's Day", 
         	     date: new Date("Jul 1, 2025 08:00:00").getTime(), 
         	     reminderDays: 2, reminderHours: 12,
               caption: "Hero's Day", 
               details: "Description of MEZC CMT Camp", 
               imageUrl: "images/Heros_Day.jpg" 	     
         	   },
     
         	   { name: "Unity Day", 
         	     date: new Date("Jul 2, 2025 08:00:00").getTime(), 
         	     reminderDays: 2, reminderHours: 12,
               caption: "Unity Day", 
               details: "Description of MEZC CMT Camp", 
               imageUrl: "images/Unity_Day.jpg" 	     
         	   },
     
         	   { name: "School Tour", 
         	     date: new Date("Jul 19, 2025 08:00:00").getTime(), 
         	     reminderDays: 2, reminderHours: 12,
               caption: "School Tour", 
               details: "For only K100 for all logistics, attend the tour with us to 'Little Paradise Park' and one of the 'important places in our community' within town", 
               imageUrl: "images/School_Tour.jpg" 	     
         	   },

         	   { name: "End Assessments", 
         	     date: new Date("Jul 28, 2025 08:00:00").getTime(), 
         	     reminderDays: 3, reminderHours: 12,
               caption: "End Assessments", 
               details: "Description of KEMD Adventurer Quiz Day", 
               imageUrl: "images/End_Assessments.jpg" 	     
         	   },

         	   { name: "Exam Guidelines", 
         	     date: new Date("Aug 1, 2025 08:00:00").getTime(), 
         	     reminderDays: 3, reminderHours: 12,
               caption: "Exam Guidelines", 
               details: "Description of KEMD Adventurer Quiz Day", 
               imageUrl: "images/Assessment_Ended.jpg" 	     
         	   },

         	   { name: "Mocks Begin", 
         	     date: new Date("Aug 5, 2025 08:00:00").getTime(), 
         	     reminderDays: 3, reminderHours: 12,
               caption: "Mocks Begin", 
               details: "Description of KEMD Adventurer Quiz Day", 
               imageUrl: "images/Assessment_Ended.jpg" 	     
         	   },                  

         	   { name: "Compilling Results", 
         	     date: new Date("Aug 1, 2024 06:00:00").getTime(), 
         	     reminderDays: 0, reminderHours: 2,
               caption: "Compilling Results", 
               details: "Description of Rockside Survival Camp", 
               imageUrl: "images/Rockside Survival Camp.jpg" 	     
         	   },

         	   { name: "Open Day / Closing", 
         	     date: new Date("Aug 2, 2024 06:00:00").getTime(), 
         	     reminderDays: 0, reminderHours: 2,
               caption: "Open Day / Closing", 
               details: "Description of Rockside Survival Camp", 
               imageUrl: "images/Rockside Survival Camp.jpg" 	     
         	   },

     // Term Three (3)
         	   { name: "School Opens", 
         	     date: new Date("Sep 10, 2024 06:00:00").getTime(), 
         	     reminderDays: 0, reminderHours: 2,
               caption: "School Opensp@", 
               details: "Description of Rockside Survival Camp", 
               imageUrl: "images/Rockside Survival Camp.jpg" 	     
         	   },

      	      { name: "Civilian Day", 
      	        date: new Date("Sep 27, 2024 08:00:00").getTime(), 
      	        reminderDays: 2, reminderHours: 12,
               caption: "Embracing Self-Expression", 
               details: "Civilian Day at school allows students to wear casual clothes, fostering self-expression, creativity, and promoting a relaxed atmosphere.", 
               imageUrl: "images/tour1/IMG-20240809-WA0061.jpg" 	        
      	      },
     
       	     { name: "Teachers Party", 
       	       date: new Date("Oct 4, 2024 08:00:00").getTime(), 
       	       reminderDays: 2, reminderHours: 12,
               caption: "Pre-World Teachers' Day Celebration: Honoring Educators with Joy and Appreciation", 
               details: "A lively celebration for teachers, filled with laughter, music, and appreciation, honoring their dedication on the eve of World Teachers' Day.", 
               imageUrl: "images/MEZC Council.jpg" 	       
       	     },
     
     
         	   { name: "Teachers Day", 
         	     date: new Date("Oct 5, 2024 08:00:00").getTime(), 
         	     reminderDays: 3, reminderHours: 12,
               caption: "KEMD Church Heritage Exams", 
               details: "World Teachers' Day 2024 centers on the theme 'Valuing teacher voices: Towards a new social contract for education,' highlighting the importance of empowering educators and fostering collaboration for better education systems worldwide.", 
               imageUrl: "images/KEMD CH Exams.jpg" 	     
         	   },
     
         	   { name: "KEMD Investiture", 
         	     date: new Date("Jul 27, 2024 06:00:00").getTime(), 
         	     reminderDays: 0, reminderHours: 2,
               caption: "KEMD Investiture", 
               details: "Description of KEMD Investiture", 
               imageUrl: "images/KEMD Investiture.jpg" 	     
         	   }

     
     
            // Add other events here
         ];

         let currentEventIndex = 0;

         function updateCountdown() {
            // Get the current date and time
            const now = new Date().getTime();

            // Get the details of the current event
            const currentEvent = events[currentEventIndex];

            // Calculate the time remaining for the current event
            const distance = currentEvent.date - now;

            // Calculate days, hours, minutes, and seconds
            const days = Math.floor(distance / (1000 * 60 * 60 * 24));
            const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
            const seconds = Math.floor((distance % (1000 * 60)) / 1000);

            // Display the countdown for the current event with the event name as a link
            document.getElementById("countdown").innerHTML =
               "<a href='#' onclick='showPopup(\"" + currentEvent.caption + "\", \"" + currentEvent.details + "\", \"" + currentEvent.imageUrl + "\")' style='text-decoration: none; color:#fff;'><strong>" + currentEvent.name + "</strong></a><br>" +
               days + "d " + hours + "h " + minutes + "m " + seconds + "s ";

            // Check if it's time to show a reminder
            if (distance > 0) {
               if (days === currentEvent.reminderDays && hours === currentEvent.reminderHours) {
                  showReminder(currentEvent.name);
               }
            }

            // If the countdown for the current event is over, move to the next event
            if (distance < 0) {
               currentEventIndex++;
               // If all events are completed, display a message
               if (currentEventIndex >= events.length) {
                  document.getElementById("countdown").innerHTML = "All events completed!";
               } else {
                  // Update the countdown for the next event
                  updateCountdown();
               }
            }
         }

         // Function to show the popup with image, caption, and details
         function showPopup(caption, details, imageUrl) {
            document.getElementById('popupsImage').src = imageUrl;
            document.getElementById('popupsCaption').innerHTML = caption;
            document.getElementById('popupsDetails').innerHTML = details;
            document.getElementById('popupsContainer').style.display = 'block';
            document.getElementById('blurredBackground').style.display = 'block'; // Show blurred background
         }

         // Function to close the popups
         function closePopup() {
            document.getElementById('popupsContainer').style.display = 'none';
            document.getElementById('blurredBackground').style.display = 'none'; // Hide blurred background
         }

         let lastScrollPosition = 0;
         const countdown = document.getElementById('countdown');

         window.addEventListener('scroll', () => {
            const currentScrollPosition = window.scrollY;

            if (currentScrollPosition > lastScrollPosition && currentScrollPosition > 100) {
               countdown.classList.add('hide');
            } else {
               countdown.classList.remove('hide');
            }

            lastScrollPosition = currentScrollPosition;
         });

         // Close the popup and blurred background on page load
         window.onload = function () {
            closePopup();
            updateCountdown(); // Call updateCountdown on page load
            // Update the countdown every 1 second
            setInterval(updateCountdown, 1000);
         };

